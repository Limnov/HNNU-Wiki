# 互联网基础

> 本页面介绍互联网和Web开发的基础概念，帮助你理解网络世界的运作原理。

## 🌐 为什么要了解互联网基础？

**新手常见困惑：**
- "输入网址怎么就能看到网页？"
- "HTTP和HTTPS有什么区别？"
- "前端和后端怎么通信？"
- "404错误是什么意思？"

**了解互联网基础的重要性：**
- ✅ 理解Web应用的工作原理
- ✅ 更好地调试网络问题
- ✅ 理解API设计
- ✅ 后端开发的必备知识

---

## 🏗️ 互联网基础架构

### 客户端-服务器模型

```
┌─────────┐                    ┌─────────┐
│ 客户端  │  ←→ 请求/响应 →→  │ 服务器  │
│ Browser │                    │ Server  │
└─────────┘                    └─────────┘
```

**客户端（Client）：**
- **定义**：发起请求的一方
- **例子**：浏览器、手机App、桌面软件
- **作用**：用户使用的界面

**服务器（Server）：**
- **定义**：响应请求的一方
- **例子**：Web服务器、API服务器
- **作用**：处理业务逻辑，返回数据

**比喻：**
- 客户端 = 顾客
- 服务器 = 餐厅
- 请求 = 点菜
- 响应 = 上菜

---

## 📍 IP地址和端口

### IP地址

**定义**：设备在互联网上的唯一地址

**格式：**
```
192.168.1.1  # 内网IP
8.8.8.8      # 公网IP（Google DNS）
```

**分类：**
- **内网IP**：局域网内部使用
  - `192.168.x.x`
  - `10.x.x.x`
  - `172.16.x.x` ~ `172.31.x.x`
- **公网IP**：全球唯一
  - 例如：`142.250.188.46`

**查看本机IP：**
```bash
# Windows
ipconfig

# macOS/Linux
ifconfig
```

### 端口

**定义**：应用程序的通信通道

**范围**：0-65535

**常见端口：**
| 端口 | 服务 | 说明 |
|------|------|------|
| **80** | HTTP | 网页服务 |
| **443** | HTTPS | 安全网页 |
| **22** | SSH | 远程登录 |
| **3306** | MySQL | 数据库 |
| **5432** | PostgreSQL | 数据库 |
|**6379** | Redis | 缓存 |
|**8000** | 常用开发端口 | 本地开发 |

**比喻：**
- IP = 公司地址
- 端口 = 分机号

**访问示例：**
```
http://192.168.1.100:8080
│             │       │
│             │       └─ 端口
│             └─ IP地址
└─ 协议
```

---

## 🌍 DNS（域名系统）

### 定义

**DNS**：Domain Name System（域名系统）

**作用**：将域名转换为IP地址

**比喻**：互联网的电话簿

### 工作原理

```
用户输入: www.baidu.com
    ↓
查询DNS服务器
    ↓
返回IP: 110.242.68.66
    ↓
浏览器连接IP
```

### DNS解析过程

1. **检查浏览器缓存**
2. **检查系统缓存**
3. **查询本地DNS服务器**
4. **查询根DNS服务器**
5. **返回IP地址**

### 常见DNS服务器

| DNS服务器 | IP地址 | 特点 |
|----------|--------|------|
| **Google DNS** | 8.8.8.8 | 全球通用 |
| **Cloudflare DNS** | 1.1.1.1 | 快速、隐私 |
| **国内DNS** | 114.114.114.114 | 114DNS |
| **阿里DNS** | 223.5.5.5 | 阿里云 |

### 域名结构

```
完整域名: www.baidu.com
│   │    │   └─ 顶级域名(.com)
│   │    └─ 二级域名(baidu)
│   └─ 三级域名(www)
└─ 完整域名
```

**常见顶级域名：**
- `.com` - 商业
- `.org` - 组织
- `.edu` - 教育
- `.gov` - 政府
- `.cn` - 中国
- `.net` - 网络服务

---

## 📡 HTTP和HTTPS

### HTTP（超文本传输协议）

**定义**：Web浏览器和服务器之间传输数据的协议

**特点：**
- 明文传输（不安全）
- 无状态
- 基于请求-响应模型

### HTTPS（安全HTTP）

**定义**：HTTP的安全版本

**特点：**
- 加密传输（安全）
- 使用SSL/TLS加密
- 有小锁标志🔒

**HTTP vs HTTPS：**
| 特性 | HTTP | HTTPS |
|------|------|-------|
| **安全性** | 明文，不安全 | 加密，安全 |
| **端口** | 80 | 443 |
| **证书** | 不需要 | 需要SSL证书 |
| **速度** | 快 | 稍慢（加密开销）|

### 请求方法

| 方法 | 作用 | 示例 |
|------|------|------|
| **GET** | 获取数据 | 打开网页 |
| **POST** | 提交数据 | 登录表单 |
| **PUT** | 更新数据 | 修改个人信息 |
| **DELETE** | 删除数据 | 删除文章 |
| **HEAD** | 获取头信息 | 检查资源是否存在 |
| **OPTIONS** | 预检请求 | 跨域前检查 |

### 状态码

**状态码格式**：三位数字，如 200、404、500

**常见状态码：**

#### 2xx - 成功
- **200 OK** - 请求成功
- **201 Created** - 创建成功
- **204 No Content** - 无内容

#### 3xx - 重定向
- **301 Moved Permanently** - 永久重定向
- **302 Found** - 临时重定向
- **304 Not Modified** - 未修改

#### 4xx - 客户端错误
- **400 Bad Request** - 请求错误
- **401 Unauthorized** - 未授权（需要登录）
- **403 Forbidden** - 禁止访问
- **404 Not Found** - 未找到
- **405 Method Not Allowed** - 方法不允许
- **408 Request Timeout** - 请求超时

#### 5xx - 服务器错误
- **500 Internal Server Error** - 服务器内部错误
- **502 Bad Gateway** - 网关错误
- **503 Service Unavailable** - 服务不可用
- **504 Gateway Timeout** - 网关超时

### HTTP请求结构

**请求示例：**
```http
GET /api/users HTTP/1.1
Host: example.com
User-Agent: Mozilla/5.0
Content-Type: application/json
Authorization: Bearer token123
```

**请求头解释：**
- `Host` - 域名
- `User-Agent` - 浏览器信息
- `Content-Type` - 内容类型
- `Authorization` - 认证信息

---

## 🔗 URL（统一资源定位符）

### 定义

**URL**：Uniform Resource Locator（统一资源定位符）

也就是我们常说的"网址"。

### URL结构

```
https://www.example.com:8080/path/to/page?key=value#hash
│      │                 │    │                  │       │
│      │                 │    │                  │       └─ 锚点
│      │                 │    │                  └─ 查询参数
│      │                 │    └─ 路径
│      │                 └─ 端口
│      └─ 域名
└─ 协议
```

### 各部分说明

| 部分 | 说明 | 示例 |
|------|------|------|
| **协议** | http:// 或 https:// | https:// |
| **域名** | 网站地址 | www.baidu.com |
| **端口** | （可选）默认80/443 | :8080 |
| **路径** | 资源位置 | /article/123 |
| **参数** | 查询字符串 | ?page=1&size=10 |
| **锚点** | 页面内跳转 | #section1 |

### URL编码

**为什么需要URL编码？**

URL只允许特定字符，其他字符需要编码。

**编码规则：**
- 空格 → `%20` 或 `+`
- 中文 → `%E4%B8%AD%E6%96%87`
- 特殊字符 → `%xx` 形式

**示例：**
```
原始: 你好世界
编码: %E4%BD%A0%E5%A5%BD%E4%B8%96%E7%95%8C
```

---

## 🌐 Web架构

### 前端和后端

```
┌─────────────────────────────────┐
│        用户（浏览器）             │
└─────────────────────────────────┘
              ↓ 请求
┌─────────────────────────────────┐
│         前端（客户端）            │
│  - HTML/CSS/JavaScript         │
│  - Vue/React                    │
└─────────────────────────────────┘
              ↓ API调用
┌─────────────────────────────────┐
│         后端（服务器）            │
│  - Python/Java/Go               │
│  - FastAPI/Django/Spring        │
│  - 处理业务逻辑                 │
└─────────────────────────────────┘
              ↓ 查询
┌─────────────────────────────────┐
│         数据库                   │
│  - MySQL/PostgreSQL            │
│  - Redis                       │
└─────────────────────────────────┘
```

### 前端

**定义**：用户看到和操作的部分

**职责：**
- 展示界面（HTML/CSS）
- 用户交互（JavaScript）
- 发送API请求
- 接收和展示数据

**技术栈：**
- **基础**：HTML、CSS、JavaScript
- **框架**：Vue、React、Angular
- **工具**：Webpack、Vite

### 后端

**定义**：用户看不到的服务器端

**职责：**
- 处理业务逻辑
- 数据计算和处理
- 与数据库交互
- 提供API接口

**技术栈：**
- **语言**：Python、Java、Go、Node.js
- **框架**：Flask、Django、Spring Boot
- **数据库**：MySQL、PostgreSQL、MongoDB

---

## 📡 API（应用程序接口）

### 定义

**API**：Application Programming Interface（应用程序接口）

**作用**：前后端通信的桥梁

### RESTful API

**REST**：Representational State Transfer

**设计原则：**
- 使用HTTP方法（GET/POST/PUT/DELETE）
- 无状态
- 资源导向

**示例：**
```http
GET    /api/users      # 获取用户列表
GET    /api/users/1    # 获取指定用户
POST   /api/users      # 创建用户
PUT    /api/users/1    # 更新用户
DELETE /api/users/1    # 删除用户
```

### API请求示例

**请求：**
```bash
curl -X GET https://api.example.com/users/1 \
  -H "Authorization: Bearer token123"
```

**响应：**
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "name": "张三",
    "email": "zhangsan@example.com"
  }
}
```

---

## 🔐 安全相关

### 常见安全问题

#### 1. 跨站脚本攻击（XSS）

**原理**：在网页中注入恶意脚本

**防护：**
- 过滤用户输入
- 使用CSP（内容安全策略）
- 转义特殊字符

#### 2. 跨站请求伪造（CSRF）

**原理**：诱导用户发送非本意的请求

**防护：**
- 使用CSRF Token
- 检查Referer头
- SameSite Cookie

#### 3. SQL注入

**原理**：在SQL查询中注入恶意代码

**防护：**
- 使用参数化查询
- 输入验证
- 最小权限原则

---

## 📊 网络通信流程

### 输入URL后的完整流程

```
1. 用户输入: https://www.baidu.com
        ↓
2. DNS解析: 转换为IP地址
        ↓
3. 建立TCP连接: 三次握手
        ↓
4. 发送HTTP请求
        ↓
5. 服务器处理并响应
        ↓
6. 浏览器渲染页面
        ↓
7. 断开连接: 四次挥手
```

### 三次握手（建立连接）

```
客户端                    服务器
   |                        |
   |-------- SYN --------->|  请求建立连接
   |                        |
   |<--- SYN + ACK ---------|  确认并请求
   |                        |
   |-------- ACK --------->|  确认建立
   |                        |
   ✓ 连接建立
```

### 四次挥手（断开连接）

```
客户端                    服务器
   |                        |
   |-------- FIN --------->| 请求断开
   |                        |
   |<--- ACK --------------|  确认
   |                        |
   |<--- FIN --------------| 服务器也请求断开
   |                        |
   |-------- ACK --------->| 确认断开
   |                        |
   ✓ 连接关闭
```

---

## 🚀 性能优化

### 加载速度优化

1. **减少HTTP请求**
   - 合并CSS/JS文件
   - 使用雪碧图

2. **使用CDN**
   - 内容分发网络
   - 就近访问

3. **压缩资源**
   - Gzip压缩
   - Brotli压缩

4. **缓存策略**
   - 浏览器缓存
   - CDN缓存

### 网络优化

1. **减少请求数据量**
   - 压缩数据
   - 分页加载

2. **使用HTTP/2**
   - 多路复用
   - 头部压缩

3. **预加载**
   - DNS预解析
   - 资源预加载

---

## 🔍 调试工具

### 浏览器开发者工具

**Network 面板：**
- 查看网络请求
- 查看响应时间
- 查看请求头和响应头

**使用方法：**
1. 打开开发者工具（F12）
2. 切换到 Network 标签
3. 刷新页面
4. 点击请求查看详情

### 命令行工具

```bash
# ping - 测试连通性
ping www.baidu.com

# traceroute - 追踪路由
traceroute www.baidu.com

# curl - 测试HTTP请求
curl -I https://www.baidu.com

# telnet - 测试端口
telnet example.com 80
```

---

## 📚 学习资源

### 在线教程
- [图解HTTP](https://www.kancloud.cn/sunny5156/xybook/139452)
- [HTTP协议详解](https://www.runoob.com/http/http-tutorial.html)
- [MDN Web Docs](https://developer.mozilla.org/)

### 书籍推荐
- 《图解TCP/IP》
- 《HTTP权威指南》
- 《Web性能权威指南》

---

## ❓ 常见问题

### Q1: 80端口和443端口有什么区别？
**A**:
- **80端口**：HTTP（明文传输）
- **443端口**：HTTPS（加密传输）
- 现在大多网站使用443端口

### Q2: 为什么有时候网页打不开？
**A**:
- **DNS解析失败**：域名无法解析为IP
- **服务器宕机**：服务器故障
- **网络问题**：本地网络不通
- **防火墙屏蔽**：被防火墙阻止

### Q3: HTTP和HTTPS必须学吗？
**A**:
- **概念要懂**：理解工作原理
- **细节不必深究**：除非做网络开发
- **HTTPS是趋势**：现代网站都用HTTPS

### Q4: 400、404、500错误有什么区别？
**A**:
- **4xx**：客户端错误（请求有问题）
- **5xx**：服务器错误（服务器有问题）
- **404**：最常见的错误，资源未找到

---

## 💡 学习建议

1. **理解而非记忆**
   - 理解基本原理
   - 不要死记硬背

2. **实践验证**
   - 用浏览器开发者工具
   - 实际发送API请求
   - 观察网络通信

3. **循序渐进**
   - 先了解基本概念
   - 再学习深入知识
   - 最后实践操作

4. **结合项目**
   - 在项目中理解
   - 遇到问题查文档

---

**下一步**：
- [编程术语](/知识扫盲/编程术语.md)
- [常见缩写速查表](/知识扫盲/常见缩写速查表.md)
